(this.webpackJsonpclient=this.webpackJsonpclient||[]).push([[0],{198:function(e,t,n){},199:function(e,t,n){},200:function(e,t,n){"use strict";n.r(t);var c=n(5),s=n(1),o=n.n(s),r=n(42),a=n.n(r),i=n(50),j=n(13),l=n(4),u=o.a.createContext(),b=function(e){var t=e.children,n=Object(s.useState)(""),o=Object(l.a)(n,2),r=o[0],a=o[1],i=Object(s.useState)(""),j=Object(l.a)(i,2),b=j[0],m=j[1];return Object(c.jsx)(u.Provider,{value:{name:r,room:b,setName:a,setRoom:m},children:t})},m=n(126),d=n.n(m),x=o.a.createContext(),h=function(e){var t=e.children,n=d()("https://socket-chat-ak.herokuapp.com/",{transports:["websocket","polling"]});return Object(c.jsx)(x.Provider,{value:n,children:t})},O=n(216),f=n(217),p=n(223),g=n(218),v=n(72),C=n(222),S=o.a.createContext(),N=function(e){var t=e.children,n=Object(s.useState)([]),o=Object(l.a)(n,2),r=o[0],a=o[1];return Object(c.jsx)(S.Provider,{value:{users:r,setUsers:a},children:t})},w=function(){var e=Object(s.useContext)(x),t=Object(s.useContext)(u),n=t.name,o=t.setName,r=t.room,a=t.setRoom,i=Object(j.f)(),l=Object(C.a)(),b=Object(s.useContext)(S).setUsers;Object(s.useEffect)((function(){e.on("users",(function(e){b(e)}))}));return Object(c.jsxs)(O.a,{className:"login",flexDirection:"column",mb:"8",children:[Object(c.jsx)(f.a,{as:"h1",size:"4xl",textAlign:"center",mb:"8",fontFamily:"DM Sans",fontWeight:"600",letterSpacing:"-2px",children:"Rhatcom"}),Object(c.jsxs)(O.a,{className:"form",gap:"1rem",flexDirection:{base:"column",md:"row"},children:[Object(c.jsx)(p.a,{variant:"filled",mr:{base:"0",md:"4"},mb:{base:"4",md:"0"},type:"text",placeholder:"User Name",value:n,onChange:function(e){return o(e.target.value)}}),Object(c.jsx)(p.a,{variant:"filled",mr:{base:"0",md:"4"},mb:{base:"4",md:"0"},type:"text",placeholder:"Room Name",value:r,onChange:function(e){return a(e.target.value)}}),Object(c.jsx)(g.a,{colorScheme:"blue",isRound:"true",icon:Object(c.jsx)(v.a,{}),onClick:function(){e.emit("login",{name:n,room:r},(function(e){return e?(console.log(e),l({position:"top",title:"Error",description:e,status:"error",duration:5e3,isClosable:!0})):(i.push("/chat"),l({position:"top",title:"Hey there",description:"Welcome to ".concat(r),status:"success",duration:5e3,isClosable:!0}))}))}})]})]})},y=n(10),R=n(221),k=n(219),E=n(220),z=n(133),A=n(132),D=n(73),I=n(131),M=n.n(I),U=(n(198),function(){var e=Object(s.useContext)(u),t=e.name,n=e.room,o=e.setName,r=e.setRoom,a=Object(s.useContext)(x),i=Object(s.useState)(""),b=Object(l.a)(i,2),m=b[0],d=b[1],h=Object(s.useState)([]),p=Object(l.a)(h,2),N=p[0],w=p[1],I=Object(s.useContext)(S).users,U=Object(j.f)(),W=Object(C.a)();window.onpopstate=function(e){return P()},Object(s.useEffect)((function(){if(!t)return U.push("/")}),[U,t]),Object(s.useEffect)((function(){a.on("message",(function(e){w((function(t){return[].concat(Object(y.a)(t),[e])}))})),a.on("notification",(function(e){W({position:"top",title:null===e||void 0===e?void 0:e.title,description:null===e||void 0===e?void 0:e.description,status:"success",duration:5e3,isClosable:!0})}))}),[a,W]);var P=function(){o(""),r(""),U.push("/"),U.go(0)};return Object(c.jsxs)(O.a,{className:"room",flexDirection:"column",width:{base:"100%",sm:"575px"},height:{base:"100%",sm:"auto"},children:[Object(c.jsx)(f.a,{className:"heading",as:"h4",bg:"white",p:"1rem 1.5rem",borderRadius:"10px 10px 0 0",children:Object(c.jsxs)(O.a,{alignItems:"center",justifyContent:"space-between",children:[Object(c.jsxs)(R.a,{children:[Object(c.jsx)(R.b,{as:g.a,icon:Object(c.jsx)(A.a,{}),isRound:"true",bg:"blue.300",color:"white"}),Object(c.jsx)(R.d,{children:I&&I.map((function(e){return Object(c.jsx)(R.c,{minH:"40px",children:Object(c.jsx)(k.a,{fontSize:"sm",children:e.name})},e.id)}))})]}),Object(c.jsxs)(O.a,{alignItems:"center",flexDirection:"column",flex:{base:"1",sm:"auto"},children:[Object(c.jsxs)(f.a,{fontSize:"lg",children:[" ",n.slice(0,1).toUpperCase()+n.slice(1)]}),Object(c.jsxs)(O.a,{alignItems:"center",children:[Object(c.jsx)(k.a,{mr:"1",fontWeight:"400",fontSize:"md",opacity:".7",letterSpacing:"0",children:t}),Object(c.jsx)(E.a,{h:2,w:2,borderRadius:"100px",bg:"green.300"})]})]}),Object(c.jsx)(z.a,{color:"gray.500",fontSize:"sm",onClick:P,children:"Logout"})]})}),Object(c.jsx)(M.a,{className:"messages",debug:!1,children:N.length>0?N.map((function(e,n){return Object(c.jsxs)(E.a,{className:"message ".concat(e.user===t?"my-message":""),m:".2rem 0",children:[Object(c.jsx)(k.a,{fontSize:"xs",opacity:".7",ml:"5px",className:"user",children:e.user}),Object(c.jsx)(k.a,{fontSize:"sm",className:"msg",p:".4rem .8rem",bg:"white",borderRadius:"15px",color:"white",children:e.text})]},n)})):Object(c.jsxs)(O.a,{alignItems:"center",justifyContent:"center",mt:".5rem",bg:"#EAEAEA",opacity:".2",w:"100%",children:[Object(c.jsx)(E.a,{mr:"2",children:"-----"}),Object(c.jsx)(D.b,{fontSize:"1rem"}),Object(c.jsx)(k.a,{ml:"1",fontWeight:"400",children:"No messages"}),Object(c.jsx)(E.a,{ml:"2",children:"-----"})]})}),Object(c.jsxs)("div",{className:"form",children:[Object(c.jsx)("input",{type:"text",placeholder:"Enter Message",value:m,onChange:function(e){return d(e.target.value)}}),Object(c.jsx)(g.a,{colorScheme:"green",isRound:"true",icon:Object(c.jsx)(v.b,{}),onClick:function(){a.emit("sendMessage",m,(function(){return d("")})),d("")},disabled:""===m,children:"Send"})]})]})}),W=(n(199),n(224));function P(){var e=Object(j.f)();return Object(c.jsxs)("div",{children:[Object(c.jsx)(g.a,{mr:2,isRound:"true",bg:"green.300",color:"white",icon:Object(c.jsx)(D.a,{}),onClick:function(){return e.push("/")}})," You're lost. Go home."]})}var H=function(){return Object(c.jsx)(W.a,{children:Object(c.jsx)(b,{children:Object(c.jsx)(N,{children:Object(c.jsx)(h,{children:Object(c.jsx)(O.a,{className:"App",align:"center",justifyContent:"center",children:Object(c.jsx)(i.a,{children:Object(c.jsxs)(j.c,{children:[Object(c.jsx)(j.a,{exact:!0,path:"/",component:w}),Object(c.jsx)(j.a,{path:"/chat",component:U}),Object(c.jsx)(j.a,{component:P})]})})})})})})})};a.a.render(Object(c.jsx)(o.a.StrictMode,{children:Object(c.jsx)(H,{})}),document.getElementById("root"))}},[[200,1,2]]]);
//# sourceMappingURL=main.1ef73387.chunk.js.map